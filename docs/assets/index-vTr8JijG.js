var Cr=Object.defineProperty;var Ur=(t,r,e)=>r in t?Cr(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var ce=(t,r,e)=>(Ur(t,typeof r!="symbol"?r+"":r,e),e);import{_ as _e,S as kr,a as $e,b as qe,c as We,d as Fe,p as Te,f as be,O as fe,i as Ye,m as Z,e as He,g as Ge,h as ee,j as we,k as Gr,l as ie,n as vr,s as Rr,o as Nr,E as Ve,q as le,r as Oe,t as ve,u as Re,v as Pr,w as Dr,x as V,F as ge,y as $r,z as Ce,A as H,B as ue,C as Ae,D as Se,G as qr,H as gr,I as Wr,J as Be,K as Je,L as Yr,M as wr,N as Hr,P as Vr,Q as Jr,R as tr}from"./index-DYtIiQKi.js";var ze={now:function(){return(ze.delegate||Date).now()},delegate:void 0},zr=function(t){_e(r,t);function r(e,n,o){e===void 0&&(e=1/0),n===void 0&&(n=1/0),o===void 0&&(o=ze);var a=t.call(this)||this;return a._bufferSize=e,a._windowTime=n,a._timestampProvider=o,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=n===1/0,a._bufferSize=Math.max(1,e),a._windowTime=Math.max(1,n),a}return r.prototype.next=function(e){var n=this,o=n.isStopped,a=n._buffer,l=n._infiniteTimeWindow,p=n._timestampProvider,v=n._windowTime;o||(a.push(e),!l&&a.push(p.now()+v)),this._trimBuffer(),t.prototype.next.call(this,e)},r.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(e),o=this,a=o._infiniteTimeWindow,l=o._buffer,p=l.slice(),v=0;v<p.length&&!e.closed;v+=a?1:2)e.next(p[v]);return this._checkFinalizedStatuses(e),n},r.prototype._trimBuffer=function(){var e=this,n=e._bufferSize,o=e._timestampProvider,a=e._buffer,l=e._infiniteTimeWindow,p=(l?1:2)*n;if(n<1/0&&p<a.length&&a.splice(0,a.length-p),!l){for(var v=o.now(),w=0,A=1;A<a.length&&a[A]<=v;A+=2)w=A;w&&a.splice(0,w+1)}},r}(kr),Xr=function(t){_e(r,t);function r(e,n){return t.call(this)||this}return r.prototype.schedule=function(e,n){return this},r}($e),Ne={setInterval:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return setInterval.apply(void 0,qe([t,r],We(e)))},clearInterval:function(t){var r=Ne.delegate;return((r==null?void 0:r.clearInterval)||clearInterval)(t)},delegate:void 0},Kr=function(t){_e(r,t);function r(e,n){var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.pending=!1,o}return r.prototype.schedule=function(e,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=e;var a=this.id,l=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(l,a,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(l,this.id,n),this},r.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),Ne.setInterval(e.flush.bind(e,this),o)},r.prototype.recycleAsyncId=function(e,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&Ne.clearInterval(n)},r.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(e,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,n){var o=!1,a;try{this.work(e)}catch(l){o=!0,a=l||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),a},r.prototype.unsubscribe=function(){if(!this.closed){var e=this,n=e.id,o=e.scheduler,a=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Fe(a,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},r}(Xr),nr=function(){function t(r,e){e===void 0&&(e=t.now),this.schedulerActionCtor=r,this.now=e}return t.prototype.schedule=function(r,e,n){return e===void 0&&(e=0),new this.schedulerActionCtor(this,r).schedule(n,e)},t.now=ze.now,t}(),Qr=function(t){_e(r,t);function r(e,n){n===void 0&&(n=nr.now);var o=t.call(this,e,n)||this;return o.actions=[],o._active=!1,o}return r.prototype.flush=function(e){var n=this.actions;if(this._active){n.push(e);return}var o;this._active=!0;do if(o=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,o){for(;e=n.shift();)e.unsubscribe();throw o}},r}(nr),Xe=new Qr(Kr),Zr=Xe;function Pe(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=Te(t);return be(t,e)}function et(t,r){var e=Ye(t)?t:function(){return t},n=function(o){return o.error(e())};return new fe(r?function(o){return r.schedule(n,0,o)}:n)}function rt(t){return t instanceof Date&&!isNaN(t)}var tt=Array.isArray;function nt(t,r){return tt(r)?t.apply(void 0,qe([],We(r))):t(r)}function mr(t){return Z(function(r){return nt(t,r)})}var ot=Array.isArray,it=Object.getPrototypeOf,at=Object.prototype,st=Object.keys;function yr(t){if(t.length===1){var r=t[0];if(ot(r))return{args:r,keys:null};if(ut(r)){var e=st(r);return{args:e.map(function(n){return r[n]}),keys:e}}}return{args:t,keys:null}}function ut(t){return t&&typeof t=="object"&&it(t)===at}function Er(t,r){return t.reduce(function(e,n,o){return e[n]=r[o],e},{})}function or(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=Te(t),n=He(t),o=yr(t),a=o.args,l=o.keys;if(a.length===0)return be([],e);var p=new fe(ct(a,e,l?function(v){return Er(l,v)}:we));return n?p.pipe(mr(n)):p}function ct(t,r,e){return e===void 0&&(e=we),function(n){ir(r,function(){for(var o=t.length,a=new Array(o),l=o,p=o,v=function(A){ir(r,function(){var F=be(t[A],r),U=!1;F.subscribe(ee(n,function(k){a[A]=k,U||(U=!0,p--),p||n.next(e(a.slice()))},function(){--l||n.complete()}))},n)},w=0;w<o;w++)v(w)},n)}}function ir(t,r,e){t?Ge(e,t,r):r()}function ft(){return Gr(1)}function lt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ft()(be(t,Te(t)))}function ae(t){return new fe(function(r){ie(t()).subscribe(r)})}function ar(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=He(t),n=yr(t),o=n.args,a=n.keys,l=new fe(function(p){var v=o.length;if(!v){p.complete();return}for(var w=new Array(v),A=v,F=v,U=function(I){var L=!1;ie(o[I]).subscribe(ee(p,function(b){L||(L=!0,F--),w[I]=b},function(){return A--},void 0,function(){(!A||!L)&&(F||p.next(a?Er(a,w):w),p.complete())}))},k=0;k<v;k++)U(k)});return e?l.pipe(mr(e)):l}function dt(t,r,e,n,o){var a,l,p,v;arguments.length===1?(a=t,v=a.initialState,r=a.condition,e=a.iterate,l=a.resultSelector,p=l===void 0?we:l,o=a.scheduler):(v=t,!n||vr(n)?(p=we,o=n):p=n);function w(){var A;return Nr(this,function(F){switch(F.label){case 0:A=v,F.label=1;case 1:return!r||r(A)?[4,p(A)]:[3,4];case 2:F.sent(),F.label=3;case 3:return A=e(A),[3,1];case 4:return[2]}})}return ae(o?function(){return Rr(w(),o)}:w)}function pt(t,r,e){return ae(function(){return t()?r:e})}function Ir(t,r,e){t===void 0&&(t=0),e===void 0&&(e=Zr);var n=-1;return r!=null&&(vr(r)?e=r:n=r),new fe(function(o){var a=rt(t)?+t-e.now():t;a<0&&(a=0);var l=0;return e.schedule(function(){o.closed||(o.next(l++),0<=n?this.schedule(void 0,n):o.complete())},a)})}function ht(t,r){return t===void 0&&(t=0),r===void 0&&(r=Xe),t<0&&(t=0),Ir(t,t,r)}var bt=Array.isArray;function xr(t){return t.length===1&&bt(t[0])?t[0]:t}function vt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t=xr(t),t.length===1?ie(t[0]):new fe(gt(t))}function gt(t){return function(r){for(var e=[],n=function(a){e.push(ie(t[a]).subscribe(ee(r,function(l){if(e){for(var p=0;p<e.length;p++)p!==a&&e[p].unsubscribe();e=null}r.next(l)})))},o=0;e&&!r.closed&&o<t.length;o++)n(o)}}function wt(t,r,e){if(r==null&&(r=t,t=0),r<=0)return Ve;var n=r+t;return new fe(e?function(o){var a=t;return e.schedule(function(){a<n?(o.next(a++),this.schedule()):o.complete()})}:function(o){for(var a=t;a<n&&!o.closed;)o.next(a++);o.complete()})}function mt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=He(t),n=xr(t);return n.length?new fe(function(o){var a=n.map(function(){return[]}),l=n.map(function(){return!1});o.add(function(){a=l=null});for(var p=function(w){ie(n[w]).subscribe(ee(o,function(A){if(a[w].push(A),a.every(function(U){return U.length})){var F=a.map(function(U){return U.shift()});o.next(e?e.apply(void 0,qe([],We(F))):F),a.some(function(U,k){return!U.length&&l[k]})&&o.complete()}},function(){l[w]=!0,!a[w].length&&o.complete()}))},v=0;!o.closed&&v<n.length;v++)p(v);return function(){a=l=null}}):Ve}function yt(t){return le(function(r,e){var n=[];return r.subscribe(ee(e,function(o){return n.push(o)},function(){e.next(n),e.complete()})),ie(t).subscribe(ee(e,function(){var o=n;n=[],e.next(o)},Oe)),function(){n=null}})}function Et(t,r){return r===void 0&&(r=null),r=r??t,le(function(e,n){var o=[],a=0;e.subscribe(ee(n,function(l){var p,v,w,A,F=null;a++%r===0&&o.push([]);try{for(var U=ve(o),k=U.next();!k.done;k=U.next()){var I=k.value;I.push(l),t<=I.length&&(F=F??[],F.push(I))}}catch(x){p={error:x}}finally{try{k&&!k.done&&(v=U.return)&&v.call(U)}finally{if(p)throw p.error}}if(F)try{for(var L=ve(F),b=L.next();!b.done;b=L.next()){var I=b.value;Fe(o,I),n.next(I)}}catch(x){w={error:x}}finally{try{b&&!b.done&&(A=L.return)&&A.call(L)}finally{if(w)throw w.error}}},function(){var l,p;try{for(var v=ve(o),w=v.next();!w.done;w=v.next()){var A=w.value;n.next(A)}}catch(F){l={error:F}}finally{try{w&&!w.done&&(p=v.return)&&p.call(v)}finally{if(l)throw l.error}}n.complete()},void 0,function(){o=null}))})}function sr(t){for(var r,e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var a=(r=Te(n))!==null&&r!==void 0?r:Xe,l=(e=n[0])!==null&&e!==void 0?e:null,p=n[1]||1/0;return le(function(v,w){var A=[],F=!1,U=function(L){var b=L.buffer,x=L.subs;x.unsubscribe(),Fe(A,L),w.next(b),F&&k()},k=function(){if(A){var L=new $e;w.add(L);var b=[],x={buffer:b,subs:L};A.push(x),Ge(L,a,function(){return U(x)},t)}};l!==null&&l>=0?Ge(w,a,k,l,!0):F=!0,k();var I=ee(w,function(L){var b,x,_=A.slice();try{for(var O=ve(_),E=O.next();!E.done;E=O.next()){var T=E.value,h=T.buffer;h.push(L),p<=h.length&&U(T)}}catch(y){b={error:y}}finally{try{E&&!E.done&&(x=O.return)&&x.call(O)}finally{if(b)throw b.error}}},function(){for(;A!=null&&A.length;)w.next(A.shift().buffer);I==null||I.unsubscribe(),w.complete(),w.unsubscribe()},void 0,function(){return A=null});v.subscribe(I)})}function It(t,r){return le(function(e,n){var o=[];ie(t).subscribe(ee(n,function(a){var l=[];o.push(l);var p=new $e,v=function(){Fe(o,l),n.next(l),p.unsubscribe()};p.add(ie(r(a)).subscribe(ee(n,v,Oe)))},Oe)),e.subscribe(ee(n,function(a){var l,p;try{for(var v=ve(o),w=v.next();!w.done;w=v.next()){var A=w.value;A.push(a)}}catch(F){l={error:F}}finally{try{w&&!w.done&&(p=v.return)&&p.call(v)}finally{if(l)throw l.error}}},function(){for(;o.length>0;)n.next(o.shift());n.complete()}))})}function xt(t){return le(function(r,e){var n=null,o=null,a=function(){o==null||o.unsubscribe();var l=n;n=[],l&&e.next(l),ie(t()).subscribe(o=ee(e,a,Oe))};a(),r.subscribe(ee(e,function(l){return n==null?void 0:n.push(l)},function(){n&&e.next(n),e.complete()},void 0,function(){return n=o=null}))})}function me(t){return le(function(r,e){var n=null,o=!1,a;n=r.subscribe(ee(e,void 0,void 0,function(l){a=ie(t(l,me(t)(r))),n?(n.unsubscribe(),n=null,a.subscribe(e)):o=!0})),o&&(n.unsubscribe(),n=null,a.subscribe(e))})}function Or(t,r){return Ye(r)?Re(t,r,1):Re(t,1)}function Ar(t,r){return r?function(e){return e.pipe(Ar(function(n,o){return ie(t(n,o)).pipe(Z(function(a,l){return r(n,a,o,l)}))}))}:le(function(e,n){var o=0,a=null,l=!1;e.subscribe(ee(n,function(p){a||(a=ee(n,void 0,function(){a=null,l&&n.complete()}),ie(t(p,o++)).subscribe(a))},function(){l=!0,!a&&n.complete()}))})}function Ot(t,r,e){return r===void 0&&(r=1/0),r=(r||0)<1?1/0:r,le(function(n,o){return Pr(n,o,t,r,void 0,!0,e)})}function Sr(t,r,e){var n=Ye(t)||r||e?{next:t,error:r,complete:e}:t;return n?le(function(o,a){var l;(l=n.subscribe)===null||l===void 0||l.call(n);var p=!0;o.subscribe(ee(a,function(v){var w;(w=n.next)===null||w===void 0||w.call(n,v),a.next(v)},function(){var v;p=!1,(v=n.complete)===null||v===void 0||v.call(n),a.complete()},function(v){var w;p=!1,(w=n.error)===null||w===void 0||w.call(n,v),a.error(v)},function(){var v,w;p&&((v=n.unsubscribe)===null||v===void 0||v.call(n)),(w=n.finalize)===null||w===void 0||w.call(n)}))}):we}function Ie(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Br={exports:{}};(function(t,r){(function(e){t.exports=e()})(function(){return function e(n,o,a){function l(w,A){if(!o[w]){if(!n[w]){var F=typeof Ie=="function"&&Ie;if(!A&&F)return F(w,!0);if(p)return p(w,!0);throw new Error("Cannot find module '"+w+"'")}A=o[w]={exports:{}},n[w][0].call(A.exports,function(U){var k=n[w][1][U];return l(k||U)},A,A.exports,e,n,o,a)}return o[w].exports}for(var p=typeof Ie=="function"&&Ie,v=0;v<a.length;v++)l(a[v]);return l}({1:[function(e,n,o){(function(a,l,p,v,w,A,F,U,k){var I=e("crypto");function L(h,y){y=_(h,y);var u;return(u=y.algorithm!=="passthrough"?I.createHash(y.algorithm):new T).write===void 0&&(u.write=u.update,u.end=u.update),E(y,u).dispatch(h),u.update||u.end(""),u.digest?u.digest(y.encoding==="buffer"?void 0:y.encoding):(h=u.read(),y.encoding!=="buffer"?h.toString(y.encoding):h)}(o=n.exports=L).sha1=function(h){return L(h)},o.keys=function(h){return L(h,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},o.MD5=function(h){return L(h,{algorithm:"md5",encoding:"hex"})},o.keysMD5=function(h){return L(h,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var b=I.getHashes?I.getHashes().slice():["sha1","md5"],x=(b.push("passthrough"),["buffer","hex","binary","base64"]);function _(h,y){var u={};if(u.algorithm=(y=y||{}).algorithm||"sha1",u.encoding=y.encoding||"hex",u.excludeValues=!!y.excludeValues,u.algorithm=u.algorithm.toLowerCase(),u.encoding=u.encoding.toLowerCase(),u.ignoreUnknown=y.ignoreUnknown===!0,u.respectType=y.respectType!==!1,u.respectFunctionNames=y.respectFunctionNames!==!1,u.respectFunctionProperties=y.respectFunctionProperties!==!1,u.unorderedArrays=y.unorderedArrays===!0,u.unorderedSets=y.unorderedSets!==!1,u.unorderedObjects=y.unorderedObjects!==!1,u.replacer=y.replacer||void 0,u.excludeKeys=y.excludeKeys||void 0,h===void 0)throw new Error("Object argument required.");for(var f=0;f<b.length;++f)b[f].toLowerCase()===u.algorithm.toLowerCase()&&(u.algorithm=b[f]);if(b.indexOf(u.algorithm)===-1)throw new Error('Algorithm "'+u.algorithm+'"  not supported. supported values: '+b.join(", "));if(x.indexOf(u.encoding)===-1&&u.algorithm!=="passthrough")throw new Error('Encoding "'+u.encoding+'"  not supported. supported values: '+x.join(", "));return u}function O(h){if(typeof h=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(h))!=null}function E(h,y,u){u=u||[];function f(s){return y.update?y.update(s,"utf8"):y.write(s,"utf8")}return{dispatch:function(s){return this["_"+((s=h.replacer?h.replacer(s):s)===null?"null":typeof s)](s)},_object:function(s){var g,m=Object.prototype.toString.call(s),N=/\[object (.*)\]/i.exec(m);if(N=(N=N?N[1]:"unknown:["+m+"]").toLowerCase(),0<=(m=u.indexOf(s)))return this.dispatch("[CIRCULAR:"+m+"]");if(u.push(s),p!==void 0&&p.isBuffer&&p.isBuffer(s))return f("buffer:"),f(s);if(N==="object"||N==="function"||N==="asyncfunction")return m=Object.keys(s),h.unorderedObjects&&(m=m.sort()),h.respectType===!1||O(s)||m.splice(0,0,"prototype","__proto__","constructor"),h.excludeKeys&&(m=m.filter(function(G){return!h.excludeKeys(G)})),f("object:"+m.length+":"),g=this,m.forEach(function(G){g.dispatch(G),f(":"),h.excludeValues||g.dispatch(s[G]),f(",")});if(!this["_"+N]){if(h.ignoreUnknown)return f("["+N+"]");throw new Error('Unknown object type "'+N+'"')}this["_"+N](s)},_array:function(s,G){G=G!==void 0?G:h.unorderedArrays!==!1;var m=this;if(f("array:"+s.length+":"),!G||s.length<=1)return s.forEach(function(P){return m.dispatch(P)});var N=[],G=s.map(function(P){var C=new T,R=u.slice();return E(h,C,R).dispatch(P),N=N.concat(R.slice(u.length)),C.read().toString()});return u=u.concat(N),G.sort(),this._array(G,!1)},_date:function(s){return f("date:"+s.toJSON())},_symbol:function(s){return f("symbol:"+s.toString())},_error:function(s){return f("error:"+s.toString())},_boolean:function(s){return f("bool:"+s.toString())},_string:function(s){f("string:"+s.length+":"),f(s.toString())},_function:function(s){f("fn:"),O(s)?this.dispatch("[native]"):this.dispatch(s.toString()),h.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(s.name)),h.respectFunctionProperties&&this._object(s)},_number:function(s){return f("number:"+s.toString())},_xml:function(s){return f("xml:"+s.toString())},_null:function(){return f("Null")},_undefined:function(){return f("Undefined")},_regexp:function(s){return f("regex:"+s.toString())},_uint8array:function(s){return f("uint8array:"),this.dispatch(Array.prototype.slice.call(s))},_uint8clampedarray:function(s){return f("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(s))},_int8array:function(s){return f("int8array:"),this.dispatch(Array.prototype.slice.call(s))},_uint16array:function(s){return f("uint16array:"),this.dispatch(Array.prototype.slice.call(s))},_int16array:function(s){return f("int16array:"),this.dispatch(Array.prototype.slice.call(s))},_uint32array:function(s){return f("uint32array:"),this.dispatch(Array.prototype.slice.call(s))},_int32array:function(s){return f("int32array:"),this.dispatch(Array.prototype.slice.call(s))},_float32array:function(s){return f("float32array:"),this.dispatch(Array.prototype.slice.call(s))},_float64array:function(s){return f("float64array:"),this.dispatch(Array.prototype.slice.call(s))},_arraybuffer:function(s){return f("arraybuffer:"),this.dispatch(new Uint8Array(s))},_url:function(s){return f("url:"+s.toString())},_map:function(s){return f("map:"),s=Array.from(s),this._array(s,h.unorderedSets!==!1)},_set:function(s){return f("set:"),s=Array.from(s),this._array(s,h.unorderedSets!==!1)},_file:function(s){return f("file:"),this.dispatch([s.name,s.size,s.type,s.lastModfied])},_blob:function(){if(h.ignoreUnknown)return f("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return f("domwindow")},_bigint:function(s){return f("bigint:"+s.toString())},_process:function(){return f("process")},_timer:function(){return f("timer")},_pipe:function(){return f("pipe")},_tcp:function(){return f("tcp")},_udp:function(){return f("udp")},_tty:function(){return f("tty")},_statwatcher:function(){return f("statwatcher")},_securecontext:function(){return f("securecontext")},_connection:function(){return f("connection")},_zlib:function(){return f("zlib")},_context:function(){return f("context")},_nodescript:function(){return f("nodescript")},_httpparser:function(){return f("httpparser")},_dataview:function(){return f("dataview")},_signal:function(){return f("signal")},_fsevent:function(){return f("fsevent")},_tlswrap:function(){return f("tlswrap")}}}function T(){return{buf:"",write:function(h){this.buf+=h},end:function(h){this.buf+=h},read:function(){return this.buf}}}o.writeToStream=function(h,y,u){return u===void 0&&(u=y,y={}),E(y=_(h,y),u).dispatch(h)}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,n,o){(function(a,l,p,v,w,A,F,U,k){(function(I){var L=typeof Uint8Array<"u"?Uint8Array:Array,b=43,x=47,_=48,O=97,E=65,T=45,h=95;function y(u){return u=u.charCodeAt(0),u===b||u===T?62:u===x||u===h?63:u<_?-1:u<_+10?u-_+26+26:u<E+26?u-E:u<O+26?u-O+26:void 0}I.toByteArray=function(u){var f,s;if(0<u.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var g=u.length,g=u.charAt(g-2)==="="?2:u.charAt(g-1)==="="?1:0,m=new L(3*u.length/4-g),N=0<g?u.length-4:u.length,G=0;function P(C){m[G++]=C}for(f=0;f<N;f+=4,0)P((16711680&(s=y(u.charAt(f))<<18|y(u.charAt(f+1))<<12|y(u.charAt(f+2))<<6|y(u.charAt(f+3))))>>16),P((65280&s)>>8),P(255&s);return g==2?P(255&(s=y(u.charAt(f))<<2|y(u.charAt(f+1))>>4)):g==1&&(P((s=y(u.charAt(f))<<10|y(u.charAt(f+1))<<4|y(u.charAt(f+2))>>2)>>8&255),P(255&s)),m},I.fromByteArray=function(u){var f,s,g,m,N=u.length%3,G="";function P(C){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(C)}for(f=0,g=u.length-N;f<g;f+=3)s=(u[f]<<16)+(u[f+1]<<8)+u[f+2],G+=P((m=s)>>18&63)+P(m>>12&63)+P(m>>6&63)+P(63&m);switch(N){case 1:G=(G+=P((s=u[u.length-1])>>2))+P(s<<4&63)+"==";break;case 2:G=(G=(G+=P((s=(u[u.length-2]<<8)+u[u.length-1])>>10))+P(s>>4&63))+P(s<<2&63)+"="}return G}})(o===void 0?this.base64js={}:o)}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,n,o){(function(a,l,b,v,w,A,F,U,k){var I=e("base64-js"),L=e("ieee754");function b(i,c,d){if(!(this instanceof b))return new b(i,c,d);var B,S,j,W,J=typeof i;if(c==="base64"&&J=="string")for(i=(W=i).trim?W.trim():W.replace(/^\s+|\s+$/g,"");i.length%4!=0;)i+="=";if(J=="number")B=$(i);else if(J=="string")B=b.byteLength(i,c);else{if(J!="object")throw new Error("First argument needs to be a number, array or string.");B=$(i.length)}if(b._useTypedArrays?S=b._augment(new Uint8Array(B)):((S=this).length=B,S._isBuffer=!0),b._useTypedArrays&&typeof i.byteLength=="number")S._set(i);else if(q(W=i)||b.isBuffer(W)||W&&typeof W=="object"&&typeof W.length=="number")for(j=0;j<B;j++)b.isBuffer(i)?S[j]=i.readUInt8(j):S[j]=i[j];else if(J=="string")S.write(i,0,c);else if(J=="number"&&!b._useTypedArrays&&!d)for(j=0;j<B;j++)S[j]=0;return S}function x(i,c,d,B){return b._charsWritten=Ee(function(S){for(var j=[],W=0;W<S.length;W++)j.push(255&S.charCodeAt(W));return j}(c),i,d,B)}function _(i,c,d,B){return b._charsWritten=Ee(function(S){for(var j,W,J=[],K=0;K<S.length;K++)W=S.charCodeAt(K),j=W>>8,W=W%256,J.push(W),J.push(j);return J}(c),i,d,B)}function O(i,c,d){var B="";d=Math.min(i.length,d);for(var S=c;S<d;S++)B+=String.fromCharCode(i[S]);return B}function E(i,c,d,j){j||(M(typeof d=="boolean","missing or invalid endian"),M(c!=null,"missing offset"),M(c+1<i.length,"Trying to read beyond buffer length"));var S,j=i.length;if(!(j<=c))return d?(S=i[c],c+1<j&&(S|=i[c+1]<<8)):(S=i[c]<<8,c+1<j&&(S|=i[c+1])),S}function T(i,c,d,j){j||(M(typeof d=="boolean","missing or invalid endian"),M(c!=null,"missing offset"),M(c+3<i.length,"Trying to read beyond buffer length"));var S,j=i.length;if(!(j<=c))return d?(c+2<j&&(S=i[c+2]<<16),c+1<j&&(S|=i[c+1]<<8),S|=i[c],c+3<j&&(S+=i[c+3]<<24>>>0)):(c+1<j&&(S=i[c+1]<<16),c+2<j&&(S|=i[c+2]<<8),c+3<j&&(S|=i[c+3]),S+=i[c]<<24>>>0),S}function h(i,c,d,B){if(B||(M(typeof d=="boolean","missing or invalid endian"),M(c!=null,"missing offset"),M(c+1<i.length,"Trying to read beyond buffer length")),!(i.length<=c))return B=E(i,c,d,!0),32768&B?-1*(65535-B+1):B}function y(i,c,d,B){if(B||(M(typeof d=="boolean","missing or invalid endian"),M(c!=null,"missing offset"),M(c+3<i.length,"Trying to read beyond buffer length")),!(i.length<=c))return B=T(i,c,d,!0),2147483648&B?-1*(4294967295-B+1):B}function u(i,c,d,B){return B||(M(typeof d=="boolean","missing or invalid endian"),M(c+3<i.length,"Trying to read beyond buffer length")),L.read(i,c,d,23,4)}function f(i,c,d,B){return B||(M(typeof d=="boolean","missing or invalid endian"),M(c+7<i.length,"Trying to read beyond buffer length")),L.read(i,c,d,52,8)}function s(i,c,d,B,S){if(S||(M(c!=null,"missing value"),M(typeof B=="boolean","missing or invalid endian"),M(d!=null,"missing offset"),M(d+1<i.length,"trying to write beyond buffer length"),Me(c,65535)),S=i.length,!(S<=d))for(var j=0,W=Math.min(S-d,2);j<W;j++)i[d+j]=(c&255<<8*(B?j:1-j))>>>8*(B?j:1-j)}function g(i,c,d,B,S){if(S||(M(c!=null,"missing value"),M(typeof B=="boolean","missing or invalid endian"),M(d!=null,"missing offset"),M(d+3<i.length,"trying to write beyond buffer length"),Me(c,4294967295)),S=i.length,!(S<=d))for(var j=0,W=Math.min(S-d,4);j<W;j++)i[d+j]=c>>>8*(B?j:3-j)&255}function m(i,c,d,B,S){S||(M(c!=null,"missing value"),M(typeof B=="boolean","missing or invalid endian"),M(d!=null,"missing offset"),M(d+1<i.length,"Trying to write beyond buffer length"),je(c,32767,-32768)),i.length<=d||s(i,0<=c?c:65535+c+1,d,B,S)}function N(i,c,d,B,S){S||(M(c!=null,"missing value"),M(typeof B=="boolean","missing or invalid endian"),M(d!=null,"missing offset"),M(d+3<i.length,"Trying to write beyond buffer length"),je(c,2147483647,-2147483648)),i.length<=d||g(i,0<=c?c:4294967295+c+1,d,B,S)}function G(i,c,d,B,S){S||(M(c!=null,"missing value"),M(typeof B=="boolean","missing or invalid endian"),M(d!=null,"missing offset"),M(d+3<i.length,"Trying to write beyond buffer length"),er(c,34028234663852886e22,-34028234663852886e22)),i.length<=d||L.write(i,c,d,B,23,4)}function P(i,c,d,B,S){S||(M(c!=null,"missing value"),M(typeof B=="boolean","missing or invalid endian"),M(d!=null,"missing offset"),M(d+7<i.length,"Trying to write beyond buffer length"),er(c,17976931348623157e292,-17976931348623157e292)),i.length<=d||L.write(i,c,d,B,52,8)}o.Buffer=b,o.SlowBuffer=b,o.INSPECT_MAX_BYTES=50,b.poolSize=8192,b._useTypedArrays=function(){try{var i=new ArrayBuffer(0),c=new Uint8Array(i);return c.foo=function(){return 42},c.foo()===42&&typeof c.subarray=="function"}catch{return!1}}(),b.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.isBuffer=function(i){return!(i==null||!i._isBuffer)},b.byteLength=function(i,c){var d;switch(i+="",c||"utf8"){case"hex":d=i.length/2;break;case"utf8":case"utf-8":d=oe(i).length;break;case"ascii":case"binary":case"raw":d=i.length;break;case"base64":d=ye(i).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":d=2*i.length;break;default:throw new Error("Unknown encoding")}return d},b.concat=function(i,c){if(M(q(i),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),i.length===0)return new b(0);if(i.length===1)return i[0];if(typeof c!="number")for(S=c=0;S<i.length;S++)c+=i[S].length;for(var d=new b(c),B=0,S=0;S<i.length;S++){var j=i[S];j.copy(d,B),B+=j.length}return d},b.prototype.write=function(i,c,d,B){isFinite(c)?isFinite(d)||(B=d,d=void 0):(K=B,B=c,c=d,d=K),c=Number(c)||0;var S,j,W,J,K=this.length-c;switch((!d||K<(d=Number(d)))&&(d=K),B=String(B||"utf8").toLowerCase()){case"hex":S=function(se,re,te,Q){te=Number(te)||0;var z=se.length-te;(!Q||z<(Q=Number(Q)))&&(Q=z),M((z=re.length)%2==0,"Invalid hex string"),z/2<Q&&(Q=z/2);for(var he=0;he<Q;he++){var rr=parseInt(re.substr(2*he,2),16);M(!isNaN(rr),"Invalid hex string"),se[te+he]=rr}return b._charsWritten=2*he,he}(this,i,c,d);break;case"utf8":case"utf-8":j=this,W=c,J=d,S=b._charsWritten=Ee(oe(i),j,W,J);break;case"ascii":case"binary":S=x(this,i,c,d);break;case"base64":j=this,W=c,J=d,S=b._charsWritten=Ee(ye(i),j,W,J);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":S=_(this,i,c,d);break;default:throw new Error("Unknown encoding")}return S},b.prototype.toString=function(i,c,d){var B,S,j,W,J=this;if(i=String(i||"utf8").toLowerCase(),c=Number(c)||0,(d=d!==void 0?Number(d):J.length)===c)return"";switch(i){case"hex":B=function(K,se,re){var te=K.length;(!se||se<0)&&(se=0),(!re||re<0||te<re)&&(re=te);for(var Q="",z=se;z<re;z++)Q+=Y(K[z]);return Q}(J,c,d);break;case"utf8":case"utf-8":B=function(K,se,re){var te="",Q="";re=Math.min(K.length,re);for(var z=se;z<re;z++)K[z]<=127?(te+=Ze(Q)+String.fromCharCode(K[z]),Q=""):Q+="%"+K[z].toString(16);return te+Ze(Q)}(J,c,d);break;case"ascii":case"binary":B=O(J,c,d);break;case"base64":S=J,W=d,B=(j=c)===0&&W===S.length?I.fromByteArray(S):I.fromByteArray(S.slice(j,W));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":B=function(K,se,re){for(var te=K.slice(se,re),Q="",z=0;z<te.length;z+=2)Q+=String.fromCharCode(te[z]+256*te[z+1]);return Q}(J,c,d);break;default:throw new Error("Unknown encoding")}return B},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},b.prototype.copy=function(i,c,d,B){if(c=c||0,(B=B||B===0?B:this.length)!==(d=d||0)&&i.length!==0&&this.length!==0){M(d<=B,"sourceEnd < sourceStart"),M(0<=c&&c<i.length,"targetStart out of bounds"),M(0<=d&&d<this.length,"sourceStart out of bounds"),M(0<=B&&B<=this.length,"sourceEnd out of bounds"),B>this.length&&(B=this.length);var S=(B=i.length-c<B-d?i.length-c+d:B)-d;if(S<100||!b._useTypedArrays)for(var j=0;j<S;j++)i[j+c]=this[j+d];else i._set(this.subarray(d,d+S),c)}},b.prototype.slice=function(i,c){var d=this.length;if(i=R(i,d,0),c=R(c,d,d),b._useTypedArrays)return b._augment(this.subarray(i,c));for(var B=c-i,S=new b(B,void 0,!0),j=0;j<B;j++)S[j]=this[j+i];return S},b.prototype.get=function(i){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(i)},b.prototype.set=function(i,c){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(i,c)},b.prototype.readUInt8=function(i,c){if(c||(M(i!=null,"missing offset"),M(i<this.length,"Trying to read beyond buffer length")),!(i>=this.length))return this[i]},b.prototype.readUInt16LE=function(i,c){return E(this,i,!0,c)},b.prototype.readUInt16BE=function(i,c){return E(this,i,!1,c)},b.prototype.readUInt32LE=function(i,c){return T(this,i,!0,c)},b.prototype.readUInt32BE=function(i,c){return T(this,i,!1,c)},b.prototype.readInt8=function(i,c){if(c||(M(i!=null,"missing offset"),M(i<this.length,"Trying to read beyond buffer length")),!(i>=this.length))return 128&this[i]?-1*(255-this[i]+1):this[i]},b.prototype.readInt16LE=function(i,c){return h(this,i,!0,c)},b.prototype.readInt16BE=function(i,c){return h(this,i,!1,c)},b.prototype.readInt32LE=function(i,c){return y(this,i,!0,c)},b.prototype.readInt32BE=function(i,c){return y(this,i,!1,c)},b.prototype.readFloatLE=function(i,c){return u(this,i,!0,c)},b.prototype.readFloatBE=function(i,c){return u(this,i,!1,c)},b.prototype.readDoubleLE=function(i,c){return f(this,i,!0,c)},b.prototype.readDoubleBE=function(i,c){return f(this,i,!1,c)},b.prototype.writeUInt8=function(i,c,d){d||(M(i!=null,"missing value"),M(c!=null,"missing offset"),M(c<this.length,"trying to write beyond buffer length"),Me(i,255)),c>=this.length||(this[c]=i)},b.prototype.writeUInt16LE=function(i,c,d){s(this,i,c,!0,d)},b.prototype.writeUInt16BE=function(i,c,d){s(this,i,c,!1,d)},b.prototype.writeUInt32LE=function(i,c,d){g(this,i,c,!0,d)},b.prototype.writeUInt32BE=function(i,c,d){g(this,i,c,!1,d)},b.prototype.writeInt8=function(i,c,d){d||(M(i!=null,"missing value"),M(c!=null,"missing offset"),M(c<this.length,"Trying to write beyond buffer length"),je(i,127,-128)),c>=this.length||(0<=i?this.writeUInt8(i,c,d):this.writeUInt8(255+i+1,c,d))},b.prototype.writeInt16LE=function(i,c,d){m(this,i,c,!0,d)},b.prototype.writeInt16BE=function(i,c,d){m(this,i,c,!1,d)},b.prototype.writeInt32LE=function(i,c,d){N(this,i,c,!0,d)},b.prototype.writeInt32BE=function(i,c,d){N(this,i,c,!1,d)},b.prototype.writeFloatLE=function(i,c,d){G(this,i,c,!0,d)},b.prototype.writeFloatBE=function(i,c,d){G(this,i,c,!1,d)},b.prototype.writeDoubleLE=function(i,c,d){P(this,i,c,!0,d)},b.prototype.writeDoubleBE=function(i,c,d){P(this,i,c,!1,d)},b.prototype.fill=function(i,c,d){if(c=c||0,d=d||this.length,M(typeof(i=typeof(i=i||0)=="string"?i.charCodeAt(0):i)=="number"&&!isNaN(i),"value is not a number"),M(c<=d,"end < start"),d!==c&&this.length!==0){M(0<=c&&c<this.length,"start out of bounds"),M(0<=d&&d<=this.length,"end out of bounds");for(var B=c;B<d;B++)this[B]=i}},b.prototype.inspect=function(){for(var i=[],c=this.length,d=0;d<c;d++)if(i[d]=Y(this[d]),d===o.INSPECT_MAX_BYTES){i[d+1]="...";break}return"<Buffer "+i.join(" ")+">"},b.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(b._useTypedArrays)return new b(this).buffer;for(var i=new Uint8Array(this.length),c=0,d=i.length;c<d;c+=1)i[c]=this[c];return i.buffer};var C=b.prototype;function R(i,c,d){return typeof i!="number"?d:c<=(i=~~i)?c:0<=i||0<=(i+=c)?i:0}function $(i){return(i=~~Math.ceil(+i))<0?0:i}function q(i){return(Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"})(i)}function Y(i){return i<16?"0"+i.toString(16):i.toString(16)}function oe(i){for(var c=[],d=0;d<i.length;d++){var B=i.charCodeAt(d);if(B<=127)c.push(i.charCodeAt(d));else for(var S=d,j=(55296<=B&&B<=57343&&d++,encodeURIComponent(i.slice(S,d+1)).substr(1).split("%")),W=0;W<j.length;W++)c.push(parseInt(j[W],16))}return c}function ye(i){return I.toByteArray(i)}function Ee(i,c,d,B){for(var S=0;S<B&&!(S+d>=c.length||S>=i.length);S++)c[S+d]=i[S];return S}function Ze(i){try{return decodeURIComponent(i)}catch{return"�"}}function Me(i,c){M(typeof i=="number","cannot write a non-number as a number"),M(0<=i,"specified a negative value for writing an unsigned value"),M(i<=c,"value is larger than maximum value for type"),M(Math.floor(i)===i,"value has a fractional component")}function je(i,c,d){M(typeof i=="number","cannot write a non-number as a number"),M(i<=c,"value larger than maximum allowed value"),M(d<=i,"value smaller than minimum allowed value"),M(Math.floor(i)===i,"value has a fractional component")}function er(i,c,d){M(typeof i=="number","cannot write a non-number as a number"),M(i<=c,"value larger than maximum allowed value"),M(d<=i,"value smaller than minimum allowed value")}function M(i,c){if(!i)throw new Error(c||"Failed assertion")}b._augment=function(i){return i._isBuffer=!0,i._get=i.get,i._set=i.set,i.get=C.get,i.set=C.set,i.write=C.write,i.toString=C.toString,i.toLocaleString=C.toString,i.toJSON=C.toJSON,i.copy=C.copy,i.slice=C.slice,i.readUInt8=C.readUInt8,i.readUInt16LE=C.readUInt16LE,i.readUInt16BE=C.readUInt16BE,i.readUInt32LE=C.readUInt32LE,i.readUInt32BE=C.readUInt32BE,i.readInt8=C.readInt8,i.readInt16LE=C.readInt16LE,i.readInt16BE=C.readInt16BE,i.readInt32LE=C.readInt32LE,i.readInt32BE=C.readInt32BE,i.readFloatLE=C.readFloatLE,i.readFloatBE=C.readFloatBE,i.readDoubleLE=C.readDoubleLE,i.readDoubleBE=C.readDoubleBE,i.writeUInt8=C.writeUInt8,i.writeUInt16LE=C.writeUInt16LE,i.writeUInt16BE=C.writeUInt16BE,i.writeUInt32LE=C.writeUInt32LE,i.writeUInt32BE=C.writeUInt32BE,i.writeInt8=C.writeInt8,i.writeInt16LE=C.writeInt16LE,i.writeInt16BE=C.writeInt16BE,i.writeInt32LE=C.writeInt32LE,i.writeInt32BE=C.writeInt32BE,i.writeFloatLE=C.writeFloatLE,i.writeFloatBE=C.writeFloatBE,i.writeDoubleLE=C.writeDoubleLE,i.writeDoubleBE=C.writeDoubleBE,i.fill=C.fill,i.inspect=C.inspect,i.toArrayBuffer=C.toArrayBuffer,i}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,n,o){(function(a,l,I,v,w,A,F,U,k){var I=e("buffer").Buffer,L=4,b=new I(L);b.fill(0),n.exports={hash:function(x,_,O,E){for(var T=_(function(s,g){s.length%L!=0&&(m=s.length+(L-s.length%L),s=I.concat([s,b],m));for(var m,N=[],G=g?s.readInt32BE:s.readInt32LE,P=0;P<s.length;P+=L)N.push(G.call(s,P));return N}(x=I.isBuffer(x)?x:new I(x),E),8*x.length),_=E,h=new I(O),y=_?h.writeInt32BE:h.writeInt32LE,u=0;u<T.length;u++)y.call(h,T[u],4*u,!0);return h}}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,n,o){(function(a,l,I,v,w,A,F,U,k){var I=e("buffer").Buffer,L=e("./sha"),b=e("./sha256"),x=e("./rng"),_={sha1:L,sha256:b,md5:e("./md5")},O=64,E=new I(O);function T(s,g){var m=_[s=s||"sha1"],N=[];return m||h("algorithm:",s,"is not yet supported"),{update:function(G){return I.isBuffer(G)||(G=new I(G)),N.push(G),G.length,this},digest:function(G){var P=I.concat(N),P=g?function(C,R,$){I.isBuffer(R)||(R=new I(R)),I.isBuffer($)||($=new I($)),R.length>O?R=C(R):R.length<O&&(R=I.concat([R,E],O));for(var q=new I(O),Y=new I(O),oe=0;oe<O;oe++)q[oe]=54^R[oe],Y[oe]=92^R[oe];return $=C(I.concat([q,$])),C(I.concat([Y,$]))}(m,g,P):m(P);return N=null,G?P.toString(G):P}}}function h(){var s=[].slice.call(arguments).join(" ");throw new Error([s,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}E.fill(0),o.createHash=function(s){return T(s)},o.createHmac=T,o.randomBytes=function(s,g){if(!g||!g.call)return new I(x(s));try{g.call(this,void 0,new I(x(s)))}catch(m){g(m)}};var y,u=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],f=function(s){o[s]=function(){h("sorry,",s,"is not implemented yet")}};for(y in u)f(u[y])}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,n,o){(function(a,l,p,v,w,A,F,U,k){var I=e("./helpers");function L(h,y){h[y>>5]|=128<<y%32,h[14+(y+64>>>9<<4)]=y;for(var u=1732584193,f=-271733879,s=-1732584194,g=271733878,m=0;m<h.length;m+=16){var N=u,G=f,P=s,C=g,u=x(u,f,s,g,h[m+0],7,-680876936),g=x(g,u,f,s,h[m+1],12,-389564586),s=x(s,g,u,f,h[m+2],17,606105819),f=x(f,s,g,u,h[m+3],22,-1044525330);u=x(u,f,s,g,h[m+4],7,-176418897),g=x(g,u,f,s,h[m+5],12,1200080426),s=x(s,g,u,f,h[m+6],17,-1473231341),f=x(f,s,g,u,h[m+7],22,-45705983),u=x(u,f,s,g,h[m+8],7,1770035416),g=x(g,u,f,s,h[m+9],12,-1958414417),s=x(s,g,u,f,h[m+10],17,-42063),f=x(f,s,g,u,h[m+11],22,-1990404162),u=x(u,f,s,g,h[m+12],7,1804603682),g=x(g,u,f,s,h[m+13],12,-40341101),s=x(s,g,u,f,h[m+14],17,-1502002290),u=_(u,f=x(f,s,g,u,h[m+15],22,1236535329),s,g,h[m+1],5,-165796510),g=_(g,u,f,s,h[m+6],9,-1069501632),s=_(s,g,u,f,h[m+11],14,643717713),f=_(f,s,g,u,h[m+0],20,-373897302),u=_(u,f,s,g,h[m+5],5,-701558691),g=_(g,u,f,s,h[m+10],9,38016083),s=_(s,g,u,f,h[m+15],14,-660478335),f=_(f,s,g,u,h[m+4],20,-405537848),u=_(u,f,s,g,h[m+9],5,568446438),g=_(g,u,f,s,h[m+14],9,-1019803690),s=_(s,g,u,f,h[m+3],14,-187363961),f=_(f,s,g,u,h[m+8],20,1163531501),u=_(u,f,s,g,h[m+13],5,-1444681467),g=_(g,u,f,s,h[m+2],9,-51403784),s=_(s,g,u,f,h[m+7],14,1735328473),u=O(u,f=_(f,s,g,u,h[m+12],20,-1926607734),s,g,h[m+5],4,-378558),g=O(g,u,f,s,h[m+8],11,-2022574463),s=O(s,g,u,f,h[m+11],16,1839030562),f=O(f,s,g,u,h[m+14],23,-35309556),u=O(u,f,s,g,h[m+1],4,-1530992060),g=O(g,u,f,s,h[m+4],11,1272893353),s=O(s,g,u,f,h[m+7],16,-155497632),f=O(f,s,g,u,h[m+10],23,-1094730640),u=O(u,f,s,g,h[m+13],4,681279174),g=O(g,u,f,s,h[m+0],11,-358537222),s=O(s,g,u,f,h[m+3],16,-722521979),f=O(f,s,g,u,h[m+6],23,76029189),u=O(u,f,s,g,h[m+9],4,-640364487),g=O(g,u,f,s,h[m+12],11,-421815835),s=O(s,g,u,f,h[m+15],16,530742520),u=E(u,f=O(f,s,g,u,h[m+2],23,-995338651),s,g,h[m+0],6,-198630844),g=E(g,u,f,s,h[m+7],10,1126891415),s=E(s,g,u,f,h[m+14],15,-1416354905),f=E(f,s,g,u,h[m+5],21,-57434055),u=E(u,f,s,g,h[m+12],6,1700485571),g=E(g,u,f,s,h[m+3],10,-1894986606),s=E(s,g,u,f,h[m+10],15,-1051523),f=E(f,s,g,u,h[m+1],21,-2054922799),u=E(u,f,s,g,h[m+8],6,1873313359),g=E(g,u,f,s,h[m+15],10,-30611744),s=E(s,g,u,f,h[m+6],15,-1560198380),f=E(f,s,g,u,h[m+13],21,1309151649),u=E(u,f,s,g,h[m+4],6,-145523070),g=E(g,u,f,s,h[m+11],10,-1120210379),s=E(s,g,u,f,h[m+2],15,718787259),f=E(f,s,g,u,h[m+9],21,-343485551),u=T(u,N),f=T(f,G),s=T(s,P),g=T(g,C)}return Array(u,f,s,g)}function b(h,y,u,f,s,g){return T((y=T(T(y,h),T(f,g)))<<s|y>>>32-s,u)}function x(h,y,u,f,s,g,m){return b(y&u|~y&f,h,y,s,g,m)}function _(h,y,u,f,s,g,m){return b(y&f|u&~f,h,y,s,g,m)}function O(h,y,u,f,s,g,m){return b(y^u^f,h,y,s,g,m)}function E(h,y,u,f,s,g,m){return b(u^(y|~f),h,y,s,g,m)}function T(h,y){var u=(65535&h)+(65535&y);return(h>>16)+(y>>16)+(u>>16)<<16|65535&u}n.exports=function(h){return I.hash(h,L,16)}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,n,o){(function(a,l,p,v,w,A,F,U,k){n.exports=function(I){for(var L,b=new Array(I),x=0;x<I;x++)!(3&x)&&(L=4294967296*Math.random()),b[x]=L>>>((3&x)<<3)&255;return b}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,n,o){(function(a,l,p,v,w,A,F,U,k){var I=e("./helpers");function L(_,O){_[O>>5]|=128<<24-O%32,_[15+(O+64>>9<<4)]=O;for(var E,T,h,y=Array(80),u=1732584193,f=-271733879,s=-1732584194,g=271733878,m=-1009589776,N=0;N<_.length;N+=16){for(var G=u,P=f,C=s,R=g,$=m,q=0;q<80;q++){y[q]=q<16?_[N+q]:x(y[q-3]^y[q-8]^y[q-14]^y[q-16],1);var Y=b(b(x(u,5),(Y=f,T=s,h=g,(E=q)<20?Y&T|~Y&h:!(E<40)&&E<60?Y&T|Y&h|T&h:Y^T^h)),b(b(m,y[q]),(E=q)<20?1518500249:E<40?1859775393:E<60?-1894007588:-899497514)),m=g,g=s,s=x(f,30),f=u,u=Y}u=b(u,G),f=b(f,P),s=b(s,C),g=b(g,R),m=b(m,$)}return Array(u,f,s,g,m)}function b(_,O){var E=(65535&_)+(65535&O);return(_>>16)+(O>>16)+(E>>16)<<16|65535&E}function x(_,O){return _<<O|_>>>32-O}n.exports=function(_){return I.hash(_,L,20,!0)}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,n,o){(function(a,l,p,v,w,A,F,U,k){function I(O,E){var T=(65535&O)+(65535&E);return(O>>16)+(E>>16)+(T>>16)<<16|65535&T}function L(O,E){var T,h=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),y=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),u=new Array(64);O[E>>5]|=128<<24-E%32,O[15+(E+64>>9<<4)]=E;for(var f,s,g=0;g<O.length;g+=16){for(var m=y[0],N=y[1],G=y[2],P=y[3],C=y[4],R=y[5],$=y[6],q=y[7],Y=0;Y<64;Y++)u[Y]=Y<16?O[Y+g]:I(I(I((s=u[Y-2],x(s,17)^x(s,19)^_(s,10)),u[Y-7]),(s=u[Y-15],x(s,7)^x(s,18)^_(s,3))),u[Y-16]),T=I(I(I(I(q,x(s=C,6)^x(s,11)^x(s,25)),C&R^~C&$),h[Y]),u[Y]),f=I(x(f=m,2)^x(f,13)^x(f,22),m&N^m&G^N&G),q=$,$=R,R=C,C=I(P,T),P=G,G=N,N=m,m=I(T,f);y[0]=I(m,y[0]),y[1]=I(N,y[1]),y[2]=I(G,y[2]),y[3]=I(P,y[3]),y[4]=I(C,y[4]),y[5]=I(R,y[5]),y[6]=I($,y[6]),y[7]=I(q,y[7])}return y}var b=e("./helpers"),x=function(O,E){return O>>>E|O<<32-E},_=function(O,E){return O>>>E};n.exports=function(O){return b.hash(O,L,32,!0)}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,n,o){(function(a,l,p,v,w,A,F,U,k){o.read=function(I,L,b,x,g){var O,E,T=8*g-x-1,h=(1<<T)-1,y=h>>1,u=-7,f=b?g-1:0,s=b?-1:1,g=I[L+f];for(f+=s,O=g&(1<<-u)-1,g>>=-u,u+=T;0<u;O=256*O+I[L+f],f+=s,u-=8);for(E=O&(1<<-u)-1,O>>=-u,u+=x;0<u;E=256*E+I[L+f],f+=s,u-=8);if(O===0)O=1-y;else{if(O===h)return E?NaN:1/0*(g?-1:1);E+=Math.pow(2,x),O-=y}return(g?-1:1)*E*Math.pow(2,O-x)},o.write=function(I,L,b,x,_,m){var E,T,h=8*m-_-1,y=(1<<h)-1,u=y>>1,f=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=x?0:m-1,g=x?1:-1,m=L<0||L===0&&1/L<0?1:0;for(L=Math.abs(L),isNaN(L)||L===1/0?(T=isNaN(L)?1:0,E=y):(E=Math.floor(Math.log(L)/Math.LN2),L*(x=Math.pow(2,-E))<1&&(E--,x*=2),2<=(L+=1<=E+u?f/x:f*Math.pow(2,1-u))*x&&(E++,x/=2),y<=E+u?(T=0,E=y):1<=E+u?(T=(L*x-1)*Math.pow(2,_),E+=u):(T=L*Math.pow(2,u-1)*Math.pow(2,_),E=0));8<=_;I[b+s]=255&T,s+=g,T/=256,_-=8);for(E=E<<_|T,h+=_;0<h;I[b+s]=255&E,s+=g,E/=256,h-=8);I[b+s-g]|=128*m}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,n,o){(function(a,l,p,v,w,A,F,U,k){var I,L,b;function x(){}(a=n.exports={}).nextTick=(L=typeof window<"u"&&window.setImmediate,b=typeof window<"u"&&window.postMessage&&window.addEventListener,L?function(_){return window.setImmediate(_)}:b?(I=[],window.addEventListener("message",function(_){var O=_.source;O!==window&&O!==null||_.data!=="process-tick"||(_.stopPropagation(),0<I.length&&I.shift()())},!0),function(_){I.push(_),window.postMessage("process-tick","*")}):function(_){setTimeout(_,0)}),a.title="browser",a.browser=!0,a.env={},a.argv=[],a.on=x,a.addListener=x,a.once=x,a.off=x,a.removeListener=x,a.removeAllListeners=x,a.emit=x,a.binding=function(_){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(_){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(Br);var At=Br.exports;const St=Dr(At);class D{constructor(r,e,n,o=V(),a=null,l=[]){ce(this,"hash");this.raw=r,this.elementId=e,this.type=n,this.id=o,this.subscribeId=a,this.dependencies=l,this.hash=St({id:o},{algorithm:"md5"})}copy(r){return new D(r,this.elementId,this.type,this.id,this.subscribeId,this.dependencies)}static createSubscribeEvent({elementId:r,id:e=V(),subscribeId:n=null,dependencies:o}){return new D(null,r,ge.Subscribe,e,n,o)}static createNextEvent({value:r,elementId:e,subscribeId:n,dependencies:o}){return new D(r,e,ge.Next,V(),n,o)}static createErrorEvent(r,e,n){return new D(r,e,ge.Error,V(),n)}}class Bt{constructor(r,e,n,o){this.entryElementId=r,this.elements=e,this.connectLines=n,this.graphBranches=o}getElement(r){const e=this.elements.get(r);if(!e)throw new Error(`Element with id ${r} was not found`);return e}getConnectLine(r){const e=this.connectLines.get(r);if(!e)throw new Error(`Connect line with id ${r} was not found`);return e}getGraphBranch(r){const e=this.graphBranches.get(r);if(!e)throw new Error(`Graph branch with id ${r} was not found`);return e}}function Lr(t){switch(t.responseType){case"json":{if("response"in t)return t.response;var r=t;return JSON.parse(r.responseText)}case"document":return t.responseXML;case"text":default:{if("response"in t)return t.response;var r=t;return r.responseText}}}var Lt=function(){function t(r,e,n,o){o===void 0&&(o="download_load"),this.originalEvent=r,this.xhr=e,this.request=n,this.type=o;var a=e.status,l=e.responseType;this.status=a??0,this.responseType=l??"";var p=e.getAllResponseHeaders();this.responseHeaders=p?p.split(`
`).reduce(function(A,F){var U=F.indexOf(": ");return A[F.slice(0,U)]=F.slice(U+2),A},{}):{},this.response=Lr(e);var v=r.loaded,w=r.total;this.loaded=v,this.total=w}return t}(),Le=$r(function(t){return function(e,n,o){this.message=e,this.name="AjaxError",this.xhr=n,this.request=o,this.status=n.status,this.responseType=n.responseType;var a;try{a=Lr(n)}catch{a=n.responseText}this.response=a}}),_t=function(){function t(r,e){return Le.call(this,"ajax timeout",r,e),this.name="AjaxTimeoutError",this}return t.prototype=Object.create(Le.prototype),t}();function Ft(t,r){return pe({method:"GET",url:t,headers:r})}function Tt(t,r,e){return pe({method:"POST",url:t,body:r,headers:e})}function Mt(t,r){return pe({method:"DELETE",url:t,headers:r})}function jt(t,r,e){return pe({method:"PUT",url:t,body:r,headers:e})}function Ct(t,r,e){return pe({method:"PATCH",url:t,body:r,headers:e})}var Ut=Z(function(t){return t.response});function kt(t,r){return Ut(pe({method:"GET",url:t,headers:r}))}var pe=function(){var t=function(r){var e=typeof r=="string"?{url:r}:r;return Rt(e)};return t.get=Ft,t.post=Tt,t.delete=Mt,t.put=jt,t.patch=Ct,t.getJSON=kt,t}(),Gt="upload",ur="download",Ue="loadstart",ke="progress",cr="load";function Rt(t){return new fe(function(r){var e,n,o=Ce({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},t),a=o.queryParams,l=o.body,p=o.headers,v=o.url;if(!v)throw new TypeError("url is required");if(a){var w;if(v.includes("?")){var A=v.split("?");if(2<A.length)throw new TypeError("invalid url");w=new URLSearchParams(A[1]),new URLSearchParams(a).forEach(function(R,$){return w.set($,R)}),v=A[0]+"?"+w}else w=new URLSearchParams(a),v=v+"?"+w}var F={};if(p)for(var U in p)p.hasOwnProperty(U)&&(F[U.toLowerCase()]=p[U]);var k=o.crossDomain;!k&&!("x-requested-with"in F)&&(F["x-requested-with"]="XMLHttpRequest");var I=o.withCredentials,L=o.xsrfCookieName,b=o.xsrfHeaderName;if((I||!k)&&L&&b){var x=(n=(e=document==null?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+L+")=([^;]*)")))===null||e===void 0?void 0:e.pop())!==null&&n!==void 0?n:"";x&&(F[b]=x)}var _=Nt(l,F),O=Ce(Ce({},o),{url:v,headers:F,body:_}),E;E=t.createXHR?t.createXHR():new XMLHttpRequest;{var T=t.progressSubscriber,h=t.includeDownloadProgress,y=h===void 0?!1:h,u=t.includeUploadProgress,f=u===void 0?!1:u,s=function(R,$){E.addEventListener(R,function(){var q,Y=$();(q=T==null?void 0:T.error)===null||q===void 0||q.call(T,Y),r.error(Y)})};s("timeout",function(){return new _t(E,O)}),s("abort",function(){return new Le("aborted",E,O)});var g=function(R,$){return new Lt($,E,O,R+"_"+$.type)},m=function(R,$,q){R.addEventListener($,function(Y){r.next(g(q,Y))})};f&&[Ue,ke,cr].forEach(function(R){return m(E.upload,R,Gt)}),T&&[Ue,ke].forEach(function(R){return E.upload.addEventListener(R,function($){var q;return(q=T==null?void 0:T.next)===null||q===void 0?void 0:q.call(T,$)})}),y&&[Ue,ke].forEach(function(R){return m(E,R,ur)});var N=function(R){var $="ajax error"+(R?" "+R:"");r.error(new Le($,E,O))};E.addEventListener("error",function(R){var $;($=T==null?void 0:T.error)===null||$===void 0||$.call(T,R),N()}),E.addEventListener(cr,function(R){var $,q,Y=E.status;if(Y<400){($=T==null?void 0:T.complete)===null||$===void 0||$.call(T);var oe=void 0;try{oe=g(ur,R)}catch(ye){r.error(ye);return}r.next(oe),r.complete()}else(q=T==null?void 0:T.error)===null||q===void 0||q.call(T,R),N(Y)})}var G=O.user,P=O.method,C=O.async;G?E.open(P,v,C,G,O.password):E.open(P,v,C),C&&(E.timeout=O.timeout,E.responseType=O.responseType),"withCredentials"in E&&(E.withCredentials=O.withCredentials);for(var U in F)F.hasOwnProperty(U)&&E.setRequestHeader(U,F[U]);return _?E.send(_):E.send(),function(){E&&E.readyState!==4&&E.abort()}})}function Nt(t,r){var e;if(!t||typeof t=="string"||Yt(t)||Ht(t)||Dt(t)||$t(t)||qt(t)||Vt(t))return t;if(Wt(t))return t.buffer;if(typeof t=="object")return r["content-type"]=(e=r["content-type"])!==null&&e!==void 0?e:"application/json;charset=utf-8",JSON.stringify(t);throw new TypeError("Unknown body type")}var Pt=Object.prototype.toString;function Ke(t,r){return Pt.call(t)==="[object "+r+"]"}function Dt(t){return Ke(t,"ArrayBuffer")}function $t(t){return Ke(t,"File")}function qt(t){return Ke(t,"Blob")}function Wt(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)}function Yt(t){return typeof FormData<"u"&&t instanceof FormData}function Ht(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function Vt(t){return typeof ReadableStream<"u"&&t instanceof ReadableStream}class ne extends Error{constructor(e,n){super(n??`Reference observable missing for element id ${e}`);ce(this,"id",V());this.elementId=e}}class De extends Error{constructor(e,n){super(n??`Missing next element after element ${e}`);ce(this,"id",V());this.elementId=e}}class Qe extends Error{constructor(e,n,o){super(`Unsupported element type "${o}" in element group "${o}"`);ce(this,"id",V());this.elementId=e,this.elementType=n,this.elementGroup=o}}class _r extends Error{constructor(e,n){super(`Invalid property "${n}" value for element ${e}`);ce(this,"id",V());this.elementId=e,this.propertyKey=n}}function X(t,r){return e=>t(e,r)}function Fr(t){return Or(r=>Pe(r.raw).pipe(t,Z(e=>r.copy(e))))}function de(t){return Z(r=>D.createNextEvent({value:r.map(e=>e.raw),elementId:t,dependencies:r.map(e=>e.id)}))}const Jt=(t,r)=>(e,n)=>{const o=t,a={...o.properties,...e};if(!a.enableObservableEvent){const A=new Function(`return ${a.inputCallbackExpression}`);return be(A()()).pipe(Z(F=>D.createNextEvent({value:F,elementId:t.id,subscribeId:n})))}if(r.refObservableGenerators.length===0)throw new ne(o.id,"Reference observable is required for from operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for from operator");const[l]=r.refObservableGenerators,p=V(),v=X(l.observableGenerator,p),w=new Function(ue,`return ${a.observableFactory}`)(v);return ae(()=>{var A;return(A=l.onSubscribe)==null||A.call(l,D.createSubscribeEvent({elementId:o.id,id:p,subscribeId:n})),be(w())})},zt=t=>(r,e)=>{const o={...t.properties,...r},l=new Function(`return ${o.argsFactoryExpression}`)()();return(Array.isArray(l)?Pe(...l):Pe(l)).pipe(Z(v=>D.createNextEvent({value:v,elementId:t.id,subscribeId:e})))},Xt=t=>(r,e)=>{const n=t,o={...n.properties,...r};return ht(o.period).pipe(Z(a=>D.createNextEvent({value:a,elementId:n.id,subscribeId:e})))},Kt=(t,r)=>(e,n)=>{const o=t,a={...o.properties,...e},l=new Function(`return ${o.properties.conditionExpression}`),p=r.refObservableGenerators.find(({connectPoint:I})=>I.connectPointType===Ae.Event&&I.connectPosition===Se.Top);if(!p)throw new ne(o.id,"Not found true branch observable operator");const v=r.refObservableGenerators.find(({connectPoint:I})=>I.connectPointType===Ae.Event&&I.connectPosition===Se.Bottom);if(!v)throw new ne(o.id,"Not found false branch observable operator");const w=V(),A=X(p.observableGenerator,w),F=new Function(ue,`return ${a.trueCallbackExpression}`)(A),U=X(v.observableGenerator,w),k=new Function(ue,`return ${a.falseCallbackExpression}`)(U);return pt(l(),ae(()=>{var I;return(I=p.onSubscribe)==null||I.call(p,D.createSubscribeEvent({elementId:o.id,id:w,subscribeId:n})),F()}),ae(()=>{var I;return(I=v.onSubscribe)==null||I.call(v,D.createSubscribeEvent({elementId:o.id,id:w,subscribeId:n})),k()}))},Qt=t=>(r,e)=>{const n=t,o={...n.properties,...r},{url:a,method:l,headers:p,queryParams:v,responseType:w,timeout:A,body:F}=o;let U;try{U=F?JSON.parse(F):void 0}catch{throw new _r(n.id,"body")}const k=p==null?void 0:p.reduce((b,[x,_])=>({...b,[x]:_}),{}),L=[...((v==null?void 0:v.reduce((b,[x,_])=>{const O=b.get(x);return O===void 0?b.set(x,_):Array.isArray(O)?b.set(x,[...O,_]):b.set(x,[O,_])},new Map))??new Map).entries()].reduce((b,[x,_])=>({...b,[x]:_}),{});return pe({url:a,method:l,headers:k,queryParams:L,responseType:w,timeout:A,body:U}).pipe(Z(b=>D.createNextEvent({value:b,elementId:n.id,subscribeId:e})))},Zt=t=>(r,e)=>Ve.pipe(Z(n=>D.createNextEvent({value:n,elementId:t.id,subscribeId:e}))),en=(t,r)=>(e,n)=>{if(r.refObservableGenerators.length===0)throw new ne(t.id,"Reference observable is required for defer operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for defer operator");const o=t,[a]=r.refObservableGenerators,l=V(),p=X(a.observableGenerator,l),v=new Function(ue,`return ${t.properties.observableFactory}`)(p);return ae(()=>{var w;return(w=a.onSubscribe)==null||w.call(a,D.createSubscribeEvent({elementId:o.id,id:l,subscribeId:n})),v()})},rn=t=>(r,e)=>{const n=t,o={...n.properties,...r},{initialState:a,iterate:l,resultSelector:p,condition:v}=o,w=new Function(`return ${a}`),A=v?new Function(`return ${v}`):void 0,F=new Function(`return ${l}`),U=new Function(`return ${p}`);return dt({initialState:w(),condition:A==null?void 0:A(),iterate:F(),resultSelector:U()}).pipe(Z(k=>D.createNextEvent({value:k,elementId:n.id,subscribeId:e})))},tn=t=>(r,e)=>{const n=t,o={...n.properties,...r},a=new Function(`return ${o.errorOrErrorFactory}`)();return et(a).pipe(me(l=>{throw D.createErrorEvent(l,n.id,e)}))},nn=t=>(r,e)=>{const n=t,o={...n.properties,...r};return wt(o.start,o.count).pipe(Z(a=>D.createNextEvent({value:a,elementId:n.id,subscribeId:e})))},on=t=>(r,e)=>{const n=t,o={...n.properties,...r},a=o.dueDateType===qr.Date?new Date(o.startDue):o.startDue;return Ir(a,o.intervalDuration).pipe(Z(l=>D.createNextEvent({value:l,elementId:n.id,subscribeId:e})))},fr=new Map([[H.Ajax,Qt],[H.Defer,en],[H.Empty,Zt],[H.From,Jt],[H.Generate,rn],[H.IIf,Kt],[H.Interval,Xt],[H.Of,zt],[H.Range,nn],[H.ThrowError,tn],[H.Timer,on]]),an={create(t,r){const e=fr.get(t.type);if(!e)throw new Qe(t.id,t.type,gr.Creation);return e(t,r)},isSupported(t){return fr.has(t.type)}},sn=(t,r)=>e=>{var p;if(r.refObservableGenerators.length===0)throw new ne(t.id,"Reference observable is required for buffer operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for buffer operator");const n=V(),[o]=r.refObservableGenerators,a=X(o.observableGenerator,n);(p=o.onSubscribe)==null||p.call(o,D.createSubscribeEvent({elementId:t.id,id:n}));const l=[];return e.pipe(yt(a().pipe(Sr(v=>l.push(v.id)))),Z(v=>{const w=l.shift(),A=v.map(F=>F.id);return D.createNextEvent({value:v.map(F=>F.raw),elementId:t.id,dependencies:w?[...A,w]:A})}))},un=t=>r=>{const{properties:e}=t;return r.pipe(Et(e.bufferSize,e.startBufferEvery),de(t.id))},cn=t=>r=>{const{properties:e}=t;return e.maxBufferSize?r.pipe(sr(e.bufferTimeSpan,e.bufferCreationInterval,e.maxBufferSize),de(t.id)):r.pipe(sr(e.bufferTimeSpan,e.bufferCreationInterval),de(t.id))},fn=(t,r)=>e=>{var A;const n=r.refObservableGenerators.find(({connectPoint:F})=>F.connectPointType===Ae.Event&&F.connectPosition===Se.Top);if(!n)throw new ne(t.id,"Not found source branch observable operator");const o=r.refObservableGenerators.find(({connectPoint:F})=>F.connectPointType===Ae.Event&&F.connectPosition===Se.Bottom);if(!o)throw new ne(t.id,"Not found closing branch observable operator");const a=V(),{properties:l}=t,p=X(n.observableGenerator,a),v=X(o.observableGenerator,a),w=new Function(ue,`return ${l.closingSelectorExpression}`)(v);return(A=n.onSubscribe)==null||A.call(n,D.createSubscribeEvent({elementId:t.id,id:a})),e.pipe(It(p(),F=>{var k;const U=V();return(k=o.onSubscribe)==null||k.call(o,D.createSubscribeEvent({elementId:t.id,id:U,dependencies:[F.id]})),w(F.raw)}),de(t.id))},ln=(t,r)=>e=>{if(r.refObservableGenerators.length===0)throw new ne(t.id,"Reference observable is required for bufferWhen operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for bufferWhen operator");return e.pipe(xt(()=>{var p;const n=V(),[o]=r.refObservableGenerators,a=X(o.observableGenerator,n),l=new Function(ue,`return ${t.properties.closingSelectorExpression}`)(a);return(p=o.onSubscribe)==null||p.call(o,D.createSubscribeEvent({elementId:t.id,id:n})),l()}),de(t.id))},dn=(t,r)=>e=>{if(r.refObservableGenerators.length===0)throw new ne(t.id,"Reference observable is required for concatMap operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for concatMap operator");const[n]=r.refObservableGenerators;return e.pipe(Or((o,a)=>{var w;const l=V(),p=X(n.observableGenerator,l),v=new Function(ue,`return ${t.properties.projectExpression}`)(p);return(w=n.onSubscribe)==null||w.call(n,D.createSubscribeEvent({elementId:t.id,id:l,dependencies:[o.id]})),v(o.raw,a)}))},pn=t=>r=>{const e=t,n=new Function(`return ${e.properties.projectExpression}`);return r.pipe(Fr(Z(n())))},hn=(t,r)=>e=>{if(r.refObservableGenerators.length===0)throw new ne(t.id,"Reference observable is required for mergeMap operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for mergeMap operator");const[n]=r.refObservableGenerators,{properties:o}=t;return e.pipe(Re((a,l)=>{var A;const p=V(),v=X(n.observableGenerator,p),w=new Function(ue,`return ${o.projectExpression}`)(v);return(A=n.onSubscribe)==null||A.call(n,D.createSubscribeEvent({elementId:t.id,id:p,dependencies:[a.id]})),w(a.raw,l)},o.concurrent))},bn=(t,r)=>e=>{if(r.refObservableGenerators.length===0)throw new ne(t.id,"Reference observable is required for exhaust operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for exhaust operator");const{properties:n}=t,[o]=r.refObservableGenerators;return e.pipe(Ar((a,l)=>{var A;const p=V(),v=X(o.observableGenerator,p),w=new Function(ue,`return ${n.projectExpression}`)(v);return(A=o.onSubscribe)==null||A.call(o,D.createSubscribeEvent({elementId:t.id,id:p,dependencies:[a.id]})),w(a.raw,l)}))},vn=(t,r)=>e=>{if(r.refObservableGenerators.length===0)throw new ne(t.id,"Reference observable is required for expand operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for expand operator");const{properties:n}=t,[o]=r.refObservableGenerators;return e.pipe(Ot((a,l)=>{var A;const p=V(),v=X(o.observableGenerator,p),w=new Function(ue,`return ${n.projectExpression}`)(v);return(A=o.onSubscribe)==null||A.call(o,D.createSubscribeEvent({elementId:t.id,id:p,dependencies:[a.id]})),w(a.raw,l)},n.concurrent))},lr=new Map([[H.Buffer,sn],[H.BufferCount,un],[H.BufferTime,cn],[H.BufferToggle,fn],[H.BufferWhen,ln],[H.ConcatMap,dn],[H.Map,pn],[H.MergeMap,hn],[H.ExhaustMap,bn],[H.Expand,vn]]),gn={create(t,r){const e=lr.get(t.type);if(!e)throw new Error(`Unsupported element type ${t.type} as pipe operator.`);return e(t,r)},isSupported(t){return lr.has(t.type)}},wn=t=>r=>{const e=t,n=new Function(`return ${e.properties.predicateExpression}`);return r.pipe(Fr(Wr(n())))},dr=new Map([[H.Filter,wn]]),mn={create(t,r){const e=dr.get(t.type);if(!e)throw new Error(`Unsupported element type ${t.type} as pipe operator.`);return e(t,r)},isSupported(t){return dr.has(t.type)}},yn=(t,r)=>e=>{if(r.refObservableGenerators.length===0)throw new ne(t.id,"Reference observable is required for catchError operator");if(r.refObservableGenerators.length>1)throw new Error("Too many reference observables for catchError operator");const n=V(),o=t,[a]=r.refObservableGenerators,l=X(a.observableGenerator,n),p=new Function(ue,`return ${o.properties.selectorExpression}`)(l);return e.pipe(me((v,w)=>{var F;(F=a.onSubscribe)==null||F.call(a,D.createSubscribeEvent({elementId:o.id,id:n,dependencies:[v.id]}));const A=w.pipe(Z(U=>U.raw));return p(v.raw,A)}))},pr=new Map([[H.CatchError,yn]]),En={create(t,r){const e=pr.get(t.type);if(!e)throw new Error(`Unsupported element type ${t.type} as pipe operator.`);return e(t,r)},isSupported(t){return pr.has(t.type)}},hr=[gn,mn,En],In={create(t,r){const e=hr.find(n=>n.isSupported(t));if(!e)throw new Error(`Unsupported element type ${t.type} as pipe operator.`);return e.create(t,r)},isSupported(t){return hr.some(r=>r.isSupported(t))}};var xe=(t=>(t[t.Direct=0]="Direct",t[t.Reference=1]="Reference",t))(xe||{});class xn{constructor(r,e){this.elements=r,this.cls=e}createObservableGraph(r){const e=new Map;return this.createGraph(r,e),e}createGraph(r,e){if(e.has(r))return;const n=this.createGraphBranch(r),o=n.flatMap(a=>a.edges).filter(a=>a.type===1).reduce((a,l)=>a.add(l.targetNodeId),new Set);e.set(r,{nodes:n,refNodeIds:o});for(const a of o)this.createGraph(a,e)}createGraphBranch(r){const e=this.elements.get(r);if(!e)throw new Error(`Element with id ${r} was not found`);if(Be(e.type))return[{id:e.id,edges:[]}];const o=this.cls.get(e.id)??[];if(!o.length)throw new De(e.id,`Element ${e.id} has no next element`);const a=o.map(p=>{const v=this.elements.get(p.target.id);if(!v)throw new Error(`Failed to find next element with id ${p.target.id}`);return{id:p.id,sourceNodeId:e.id,targetNodeId:v.id,type:this.isReferenceElementType(v.type)?1:0}}),l=a.filter(p=>p.type===0);if(l.length!==1)throw l.length===0?new De(e.id,`Element ${e.id} has no next element`):new Error(`Unexpected number(${l.length}) direct edges`);return[{id:e.id,edges:a},...this.createGraphBranch(l[0].targetNodeId)]}isReferenceElementType(r){return Je(r)}}function Tr(t,r,e,n){return r.map(o=>ae(()=>{var p;const a=V();return(p=o.onSubscribe)==null||p.call(o,D.createSubscribeEvent({elementId:t,id:a,subscribeId:n})),X(o.observableGenerator,a)(e)}))}function Mr(t,r,e,n){return r.reduce((o,a)=>({...o,[a.connectLine.name]:ae(()=>{var v;const l=V();return(v=a.onSubscribe)==null||v.call(a,D.createSubscribeEvent({elementId:t,id:l,subscribeId:n})),X(a.observableGenerator,l)(e)})}),{})}function jr(t,r){const e=Object.entries(t).reduce((o,[a,l])=>({...o,[a]:l.raw}),{}),n=Object.values(t).map(o=>o.id);return D.createNextEvent({value:e,elementId:r,dependencies:n})}const On=(t,r)=>(e,n)=>{const o=t,a={...o.properties,...e};return Yr(...r.refObservableGenerators.map(l=>ae(()=>{var w;const p=V();return(w=l.onSubscribe)==null||w.call(l,D.createSubscribeEvent({elementId:o.id,id:p,subscribeId:n})),X(l.observableGenerator,p)()}),a.limitConcurrent>0?a.limitConcurrent:void 0))},An=(t,r)=>(e,n)=>{const o=t;return o.properties.observableInputsType===wr.Array?or(Tr(o.id,r.refObservableGenerators,e,n)).pipe(de(o.id)):or(Mr(o.id,r.refObservableGenerators,e,n)).pipe(Z(a=>jr(a,o.id)))},Sn=(t,r)=>(e,n)=>lt(...r.refObservableGenerators.map(o=>ae(()=>{var p;const a=V();return(p=o.onSubscribe)==null||p.call(o,D.createSubscribeEvent({elementId:t.id,id:a,subscribeId:n})),X(o.observableGenerator,a)(e)}))),Bn=(t,r)=>(e,n)=>{const o=t;return o.properties.observableInputsType===wr.Array?ar(Tr(o.id,r.refObservableGenerators,e,n)).pipe(de(o.id)):ar(Mr(o.id,r.refObservableGenerators,e,n)).pipe(Z(a=>jr(a,o.id)))},Ln=(t,r)=>(e,n)=>vt(r.refObservableGenerators.map(o=>ae(()=>{var p;const a=V();return(p=o.onSubscribe)==null||p.call(o,D.createSubscribeEvent({elementId:t.id,id:a,subscribeId:n})),X(o.observableGenerator,a)(e)}))),_n=(t,r)=>(e,n)=>mt(r.refObservableGenerators.map(o=>ae(()=>{var p;const a=V();return(p=o.onSubscribe)==null||p.call(o,D.createSubscribeEvent({elementId:t.id,id:a,subscribeId:n})),X(o.observableGenerator,a)(e)}))).pipe(de(t.id)),br=new Map([[H.Merge,On],[H.CombineLatest,An],[H.Concat,Sn],[H.ForkJoin,Bn],[H.Race,Ln],[H.Zip,_n]]),Fn={create(t,r){const e=br.get(t.type);if(!e)throw new Qe(t.id,t.type,gr.JoinCreation);return e(t,r)},isSupported(t){return br.has(t.type)}};class Tn{constructor(r,e){this.simulationModel=r,this.flowManager=e}createObservable(){const{entryElementId:r}=this.simulationModel,e=new Map,n=[r];for(;n.length>0;){const a=n[0],l=this.simulationModel.getGraphBranch(a),p=[...l.refNodeIds].filter(v=>!e.has(v));if(p.length>0){n.unshift(...p);continue}e.set(a,this.createBranchObservable(l,e)),n.shift()}const o=e.get(r);if(!o)throw new Error(`Failed to generate observable for element with id ${r}`);return o()}createBranchObservable(r,e){const{entryElementId:n}=this.simulationModel,[o,a]=r.nodes.reduce(([k,I],L)=>{const b=this.simulationModel.getElement(L.id),x={element:b,node:L};return Je(b.type)?[[...k,x],I]:[k,[...I,x]]},[[],[]]);if(o.length===0)throw new Error("Entry node not found");if(o.length>1)throw new Error("Multiple creation nodes found");const l=o[0],p=l.element.id===n,v=this.getRefObservableGenerators(l.node,e),w=this.createEntryOperator(l.element,v),A=l.node.edges.filter(k=>k.type===xe.Direct).flatMap(k=>{const I=this.simulationModel.getElement(k.targetNodeId),L=this.simulationModel.getConnectLine(k.id),b=p&&Be(I.type)?this.createUnhandledErrorOperator(L):this.createErrorTrackerOperator(L);return[this.createControlOperator(L),b]}),F=a.flatMap(({element:k,node:I})=>{const L=this.getRefObservableGenerators(I,e),b=[];return Hr(k.type)&&b.push(this.createPipeOperator(k,L)),I.edges.filter(x=>x.type===xe.Direct).reduce((x,_)=>{const O=this.simulationModel.getElement(_.targetNodeId),E=this.simulationModel.getConnectLine(_.id),T=p&&Be(O.type)?this.createUnhandledErrorOperator(E):this.createErrorTrackerOperator(E);return[...x,this.createControlOperator(E),T]},b)}),U=[...A,...F];return(k,I)=>U.reduce((L,b)=>b(L),w(k,I))}createEntryOperator(r,e){const n=e.map(o=>({connectPoint:o.connectLine.source,connectLine:o.connectLine,observableGenerator:o.observableGenerator,onSubscribe:a=>this.flowManager.handleNextEvent(a,o.connectLine)})).sort((o,a)=>o.connectLine.index-a.connectLine.index);if(Vr(r.type))return an.create(r,{refObservableGenerators:n});if(Jr(r.type))return Fn.create(r,{refObservableGenerators:n});throw new Error(`Unsupported entry operator type ${r.type}`)}createPipeOperator(r,e){return In.create(r,{refObservableGenerators:e.map(n=>({connectPoint:n.connectLine.source,connectLine:n.connectLine,observableGenerator:n.observableGenerator,onSubscribe:o=>this.flowManager.handleNextEvent(o,n.connectLine)})).sort((n,o)=>n.connectLine.index-o.connectLine.index)})}getRefObservableGenerators(r,e){return r.edges.filter(n=>n.type===xe.Reference).map(n=>{const o=e.get(n.targetNodeId),a=this.simulationModel.getConnectLine(n.id);if(!o)throw new Error(`Observable for element with id not found ${n.targetNodeId}`);return{observableGenerator:o,connectLine:a}})}createControlOperator(r){return e=>e.pipe(Sr(n=>this.flowManager.handleNextEvent(n,r)))}createErrorTrackerOperator(r){return e=>e.pipe(me(n=>{const o=n instanceof D?n:new D(n,r.source.id,ge.Error);throw this.flowManager.handleError(o,r),o}))}createUnhandledErrorOperator(r){return e=>e.pipe(me(n=>{const o=n instanceof D?n:new D(n,r.source.id,ge.Error);throw this.flowManager.handleFatalError(o,r),o.raw}))}}class Mn{constructor(r){ce(this,"eventIndex",0);ce(this,"eventObserver",new zr(1e4));ce(this,"connectLinesPath",new Map);this.simulationModel=r}asObservable(){return this.eventObserver.asObservable()}handleNextEvent(r,e){const{target:n}=e,o=this.simulationModel.getElement(n.id),a=this.retrieveFlowValuePath(r.id);if(a.push(e),tr(o.type))return;const l=a[0],p=a[a.length-1];this.eventObserver.next({id:r.id,subscribeId:r.subscribeId,dependencies:r.dependencies,index:++this.eventIndex,hash:r.hash,value:`${r.raw}`,type:r.type,connectLinesId:a.splice(0).map(v=>v.id),sourceElementId:l.source.id,targetElementId:p.target.id})}handleError(r,e){const{target:n}=e,o=this.simulationModel.getElement(n.id),a=this.retrieveFlowValuePath(r.id);if(a.push(e),!tr(o.type)&&!Be(o.type))return;const l=a[0],p=a[a.length-1];this.eventObserver.next({id:r.id,subscribeId:r.subscribeId,dependencies:r.dependencies,index:++this.eventIndex,hash:r.hash,value:`${r.raw}`,type:r.type,connectLinesId:a.splice(0).map(v=>v.id),sourceElementId:l.source.id,targetElementId:p.target.id})}handleFatalError(r,e){const n=this.retrieveFlowValuePath(r.id);n.push(e);const o=n[0],a=n[n.length-1];this.eventObserver.error({id:r.id,index:++this.eventIndex,hash:r.hash,value:r,connectLinesId:n.splice(0).map(l=>l.id),sourceElementId:o.source.id,targetElementId:a.target.id})}handleComplete(){this.eventObserver.complete()}retrieveFlowValuePath(r){let e=this.connectLinesPath.get(r);return e||(e=[],this.connectLinesPath.set(r,e)),e}}function jn(t,r,e){const n=r.reduce((v,w)=>v.set(w.id,w),new Map),o=e.reduce((v,w)=>{const A=v.get(w.source.id)??[];return v.set(w.source.id,[...A,w])},new Map),a=n.get(t);if(!a||!Je(a.type))throw new Error("Invalid entry element. Only creation elements are allowed");const p=new xn(n,o).createObservableGraph(t);return new Bt(t,n,e.reduce((v,w)=>v.set(w.id,w),new Map),p)}class Cn{constructor(r){ce(this,"subscription",null);this.simulationModel=r}start(r){const e=new Mn(this.simulationModel),a=new Tn(this.simulationModel,e).createObservable().subscribe({complete:()=>e.handleComplete()}),l=e.asObservable().subscribe(r);return this.subscription={unsubscribe:()=>{a.unsubscribe(),l.unsubscribe()}},this.subscription}stop(){var r;(r=this.subscription)==null||r.unsubscribe(),this.subscription=null}}var Un=(t=>(t.StartSimulation="startSimulation",t.StopSimulation="stopSimulation",t.Next="next",t.Error="error",t.Complete="complete",t.CreationError="creationError",t))(Un||{});function Rn({entryElementId:t,elements:r,connectLines:e,onNext:n,onError:o,onComplete:a,onCreationError:l}){if(window.Worker){const p=new Worker(new URL("/vision/assets/observableSimulationWorker-D21y4cPl.js",import.meta.url),{name:"ObservableWorker",type:"module"});return p.addEventListener("message",v=>{const{data:w}=v;switch(w.type){case"next":return n==null?void 0:n(w.value);case"error":return o==null?void 0:o(w.value);case"complete":return a==null?void 0:a();case"creationError":return l==null?void 0:l({elementId:w.value.sourceElementId,errorId:w.value.id,errorMessage:w.value.value})}}),p.addEventListener("error",v=>{console.error("Error is throw by ObservableWorker",v),p.terminate()}),p.addEventListener("messageerror",v=>{console.error("Message error is thrown by ObservableWorker",v.data)}),p.postMessage({type:"startSimulation",entryElementId:t,elements:r,connectLines:e}),{unsubscribe(){p.postMessage({type:"stopSimulation"}),p.terminate()}}}try{return new Cn(jn(t,r,e)).start({next:v=>n==null?void 0:n(v),error:v=>o==null?void 0:o(v),complete:()=>a==null?void 0:a()})}catch(p){throw(p instanceof ne||p instanceof De||p instanceof Qe||p instanceof _r)&&(l==null||l({elementId:p.elementId,errorMessage:p.message,errorId:p.id})),p}}export{D as FlowValue,_r as InvalidElementPropertyValueError,De as MissingNextElementError,ne as MissingReferenceObservableError,Cn as ObservableSimulation,Un as ObservableSimulationMessageType,Bt as SimulationModel,Qe as UnsupportedElementTypeError,jn as createSimulationModel,Rn as startObservableSimulation};
